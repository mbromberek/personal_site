{% extends "base.html" %}
{% from 'bootstrap4/form.html' import render_form %}

{% block app_content %}

<div class="dashboard_page">
    <div style="overflow:auto; width:100%; margin-top:20px;">

    {% if dash_lst_dict['wrkt_sum_lst'] %}
    {% include 'dashboard_widgets/_running_mileage_widget.html' %}
    {% endif %}

    {% if dash_lst_dict['gear_lst'] %}
    {% include 'dashboard_widgets/_gear_usage_widget.html' %}
    {% endif %}


    </div>

    <div style="overflow:auto; width:100%; ">
    {# Fitness Goals for 2022 #}
    {% if dash_lst_dict['yrly_goals_lst'] %}
    {% include 'dashboard_widgets/_yearly_goal_widget.html' %}
    {% endif %}
    </div>

    <div style="overflow:auto; width:100%; ">

    {% if dash_lst_dict['wkly_mileage_lst'] %}
    {% include 'dashboard_widgets/_running_weekly_mileage_widget.html' %}
    {% endif %}

    {% if dash_lst_dict['yrly_mileage_lst'] %}
    {% include 'dashboard_widgets/_yearly_mileage_widget.html' %}
    {% endif %}

    </div>


    <div style="overflow:auto; width:100%; ">
    {% if dash_lst_dict['nxt_gear'] %}
    {% include 'dashboard_widgets/_next_gear_widget.html' %}
    {% endif %}
    </div>

    {#
    <div style="overflow:auto; width:100%; ">
    {% if dash_lst_dict['moly_mileage_lst'] %}
    {% include 'dashboard_widgets/_monthly_mileage_widget.html' %}
    {% endif %}
    </div>
    
    <div id="monthly_mileage_bar" style="overflow:auto; width:75%; ">
    </div>#}
    
    <div  id="goal_chart" style="overflow:auto; width:300px; height:400px;" >
        <button onclick="update_goal_chart(0)">Running Mileage</button>
        <button onclick="update_goal_chart(1)">Cycling Mileage</button>
        <svg id="goal_pie" style="overflow:auto; width:300px; height:240px; ">
        </svg>
    </div>
    

</div>

{#
<script>
    month_mileage_lst = {{ dash_lst_dict['moly_mileage_lst']|tojson|safe }};
</script>

<script type="module" src="{{ url_for('static', filename='js/viz_dashboard.mjs') }}"></script>
#}
<script>
    initGoalChart({{ dash_lst_dict['yrly_goals_dict_lst']|tojson|safe }});
    init_donut_chart();
</script>


{% endblock %}
